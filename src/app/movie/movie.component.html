<main class="movie" *ngIf="!loading; else loadingMovie">
  <div class="movie-content" *ngIf="movieDetail; else noMovieFound">
    <app-movie-header
      [movieDetail]="movieDetail"
      [crew]="crew">
    </app-movie-header>

    <section class="movie-body">
      <div class="container-fluid">
        <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs">
          <li [ngbNavItem]="1">
            <a ngbNavLink>Main</a>
            <ng-template ngbNavContent>
              <app-movie-main
                [id]="id"
                [movieDetail]="movieDetail"
                [cast]="cast"
                [crew]="crew">
              </app-movie-main>
            </ng-template>
          </li>
          <li [ngbNavItem]="2">
            <a ngbNavLink>Cast</a>
            <ng-template ngbNavContent>
              <app-movie-cast [cast]="cast"></app-movie-cast>
            </ng-template>
          </li>
          <li [ngbNavItem]="3">
            <a ngbNavLink>Crew</a>
            <ng-template ngbNavContent>
              <app-movie-crew [crew]="crew"></app-movie-crew>
            </ng-template>
          </li>
        </ul>

        <div [ngbNavOutlet]="nav" class="mt-2"></div>
      </div>
    </section>
  </div>
  <ng-template #noMovieFound>
    <app-no-movie-found></app-no-movie-found>
  </ng-template>
</main>

<ng-template #loadingMovie>
  <div class="loading-movie">
    <i class="fas fa-circle-notch fa-spin fa-5x fa-fw"></i>
  </div>
</ng-template>
